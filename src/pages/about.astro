---
const title = "About"

import BaseLayout from "../layouts/BaseLayout.astro";

const res = await fetch(process.env.API_URL+'/api/about?populate=*')
const data = await res.json()
const aboutData = data.data.attributes

const serverBody = aboutData.body.replaceAll("/uploads/", "http://localhost:1337/uploads/")
const mainImage = process.env.API_URL+aboutData.topImage.data.attributes.url
---

<BaseLayout title={title}>
    <div class="block absolute left-0 h-64 w-full mb-8">
        <img alt="" class="absolute block object-cover h-64 w-full" src={mainImage}>
        <div class="container mx-auto pl-6 pr-6 h-full">
            <div class="relative flex h-full w-64 items-end">
                <h1 class="text-zinc-50 text-6xl mb-6">Text</h1>
            </div>
        </div>
    </div>
    <div>
        <div class="inline-block mt-64" set:html={serverBody}></div>
    </div>
</BaseLayout>